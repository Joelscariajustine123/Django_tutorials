<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Django Cheatsheet & Tutorial</title>
    <style>
        :root {
            --dark-bg: #1e1e1e;
            --main-bg: #252526;
            --sidebar-bg: #333333;
            --text-color: #cccccc;
            --accent-color: #007acc;
            --code-bg: #1a1a1a;
            --border-color: #444444;
            --font-main: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            --font-code: 'Consolas', 'Menlo', 'Courier New', monospace;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--dark-bg);
            color: var(--text-color);
            margin: 0;
            display: flex;
        }

        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            padding-top: 20px;
            overflow-y: auto;
            border-right: 1px solid var(--border-color);
        }

        .sidebar h2 {
            color: white;
            text-align: center;
            padding: 0 10px;
            margin-bottom: 20px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li a {
            display: block;
            color: var(--text-color);
            text-decoration: none;
            padding: 12px 20px;
            transition: background-color 0.2s, color 0.2s;
        }

        .sidebar ul li a:hover {
            background-color: var(--accent-color);
            color: white;
        }

        .sidebar ul li a.active {
            background-color: var(--accent-color);
            color: white;
            font-weight: bold;
        }

        .main-content {
            margin-left: 250px;
            padding: 20px 40px;
            width: calc(100% - 250px);
        }

        section {
            margin-bottom: 50px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        h1, h2, h3 {
            color: white;
        }

        h1 {
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }

        h3 {
            font-style: italic;
            color: #a0a0a0;
        }
        
        p {
            line-height: 1.6;
        }

        .code-container {
            position: relative;
            margin: 20px 0;
        }

        pre {
            background-color: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        code {
            font-family: var(--font-code);
            font-size: 14px;
            color: #9cdcfe;
        }
        
        code.language-bash {
            color: #d7ba7d;
        }

        code.language-python .comment {
            color: #6a9955;
        }
        
        code.language-html .tag{
             color: #569cd6;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .copy-btn:hover {
            opacity: 1;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            .main-content {
                margin-left: 0;
                width: 100%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>

    <nav class="sidebar">
        <h2>Django Guide</h2>
        <ul>
            <li><a href="#setup">Setup</a></li>
            <li><a href="#project-app">Project & App</a></li>
            <li><a href="#run-project">Run Project</a></li>
            <li><a href="#templates">Template Rendering</a></li>
            <li><a href="#models-db">Model & Database</a></li>
            <li><a href="#admin-panel">Admin Panel</a></li>
            <li><a href="#static-files">Static & Media Files</a></li>
            <li><a href="#mysql-db">Use MySQL</a></li>
            <li><a href="#value-passing">Value Passing</a></li>
            <li><a href="#form-processing">Form Processing</a></li>
            <li><a href="#message-passing">Message Passing</a></li>
            <li><a href="#authentication">Authentication</a></li>
            <li><a href="#protect-views">Protecting Views</a></li>
            <li><a href="#sessions">Sessions</a></li>
            <li><a href="#cookies">Cookies</a></li>
            <li><a href="#email">Email Sending</a></li>
            <li><a href="#ajax-json">AJAX & JSON</a></li>
        </ul>
    </nav>

    <div class="main-content">
        <header>
            <h1>Interactive Django Cheatsheet & Tutorial</h1>
        </header>

        <section id="setup">
            <h2>Virtual Environment Setup</h2>
            <p>Always start by creating a virtual environment to isolate project dependencies.</p>
            <h3>Create environment:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">python -m venv {Environment_name}</code></pre>
            </div>
            <h3>Activate environment (Windows):</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">{Environment_name}\Scripts\activate</code></pre>
            </div>
            <h3>Install Django:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">pip install django</code></pre>
            </div>
        </section>

        <section id="project-app">
            <h2>Project and App Setup</h2>
            <p>Create the main project and a dedicated app within it.</p>
            <h3>Start Project:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">django-admin startproject {Project_name}
cd {Project_name}</code></pre>
            </div>
             <h3>Start App:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">python manage.py startapp {app_name}</code></pre>
            </div>
            <h3>Register the app in <code>{Project_name}/settings.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    '{app_name}'
]</code></pre>
            </div>
             <h3>Include app URLs in <code>{Project_name}/urls.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('{app_name}/', include("{app_name}.urls"))
]</code></pre>
            </div>
            <h3>Create <code>{app_name}/urls.py</code> and define a basic route:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.urls import path
from .views import *

urlpatterns = [
    path("", home, name="home"),
]</code></pre>
            </div>
            <h3>Create a simple view in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.http import HttpResponse

def home(request):
    return HttpResponse("Hello, Django!")</code></pre>
            </div>
        </section>

        <section id="run-project">
            <h2>Run the Project</h2>
            <p>Start the development server to see your project in action.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">python manage.py runserver</code></pre>
            </div>
        </section>

        <section id="templates">
            <h2>Template Rendering</h2>
            <p>Serve dynamic HTML pages using Django's template engine.</p>
            <h3>Configure template directory in <code>{Project_name}/settings.py</code>:</h3>
            <p>First, create a `templates` folder in your project's root directory.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">import os

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR, 'templates')],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]</code></pre>
            </div>
            <h3>Create a view to render a template in <code>{app_name}/views.py</code>:</h3>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.shortcuts import render

def second(request):
    return render(request, 'second.html')</code></pre>
            </div>
             <h3>Create the template file <code>templates/second.html</code>:</h3>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Second Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;This is the second page rendered from a template!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>
        
        <section id="models-db">
            <h2>Model & Database Setup</h2>
            <p>Define your data structure using models, which Django maps to database tables.</p>
            <h3>Define a model in <code>{app_name}/models.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.db import models

class ExampleModel(models.Model):
    name = models.CharField(max_length=100)
    age = models.IntegerField()

    def __str__(self):
        return self.name</code></pre>
            </div>
            <h3>Create and apply database migrations:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">python manage.py makemigrations
python manage.py migrate</code></pre>
            </div>
            <h3>Fetch and display data in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from .models import ExampleModel

def user_details(request):
    users = ExampleModel.objects.all()
    return render(request, 'user_details.html', {'users': users})</code></pre>
            </div>
            <h3>Create template <code>templates/user_details.html</code> to show data:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Users&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;User List&lt;/h1&gt;
    {% for user in users %}
        &lt;h2&gt;Name: {{ user.name }}&lt;/h2&gt;
        &lt;p&gt;Age: {{ user.age }}&lt;/p&gt;
        &lt;hr&gt;
    {% endfor %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>

        <section id="admin-panel">
            <h2>Admin Panel</h2>
            <p>Use Django's built-in admin interface to manage your data.</p>
            <h3>Register your model in <code>{app_name}/admin.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.contrib import admin
from .models import ExampleModel

admin.site.register(ExampleModel)</code></pre>
            </div>
            <h3>Create a superuser to access the admin panel:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">python manage.py createsuperuser</code></pre>
            </div>
            <p>Now, run the server and navigate to <code>/admin</code> to log in.</p>
        </section>
        
        <section id="static-files">
            <h2>Static & Media Files</h2>
            <p>Manage CSS, JavaScript, and static images (static files) as well as user-uploaded content (media files).</p>
            <p>Create `static` and `media` folders in your project's root directory.</p>
            <h3>Configure in <code>{Project_name}/settings.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">STATIC_URL = '/static/'
STATICFILES_DIRS = [
    BASE_DIR / 'static',
]

MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'</code></pre>
            </div>
            <h3>Update project URLs in <code>{Project_name}/urls.py</code> for development:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.conf import settings
from django.conf.urls.static import static

# Add these lines at the end of the file
urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
# Note: STATICFILES_DIRS handles static files in development, so the below line is often not needed if using runserver with DEBUG=True
# urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)
</code></pre>
            </div>
            <h3>Example model with an ImageField in <code>{app_name}/models.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">class User_details(models.Model):
    name = models.CharField(max_length=100)
    age = models.IntegerField()
    profile_pic = models.ImageField(upload_to='profile_pics/', null=True, blank=True)

    def __str__(self):
        return self.name</code></pre>
            </div>
            <h3>Using static and media files in a template:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">{% load static %}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;User Profile&lt;/title&gt;
    &lt;link rel="stylesheet" href="{% static 'css/styles.css' %}"&gt;
&lt;/head&gt;
&lt;body&gt;
    {% for user in users %}
        &lt;h2&gt;Name: {{ user.name }}&lt;/h2&gt;
        &lt;p&gt;Age: {{ user.age }}&lt;/p&gt;
        {% if user.profile_pic %}
            &lt;img src="{{ user.profile_pic.url }}" alt="{{ user.name }}'s Profile Picture" width="200"&gt;
        {% else %}
            &lt;p&gt;No profile picture available.&lt;/p&gt;
        {% endif %}
    {% endfor %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>

        <section id="mysql-db">
            <h2>Use MySQL Database</h2>
            <p>Switch from the default SQLite to a more robust database like MySQL.</p>
            <h3>Install the MySQL client library:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">pip install mysqlclient</code></pre>
            </div>
            <h3>Update <code>{Project_name}/settings.py</code>:</h3>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'myprojectdb',         # Your DB name
        'USER': 'django_user',         # Your DB user
        'PASSWORD': 'mypassword',      # Your DB password
        'HOST': 'localhost',           # Or your DB host
        'PORT': '3306',
    }
}</code></pre>
            </div>
            <h3>Run migrations again for the new database:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-bash">python manage.py makemigrations
python manage.py migrate</code></pre>
            </div>
        </section>

        <section id="value-passing">
            <h2>Value Passing to Templates</h2>
            <p>Pass data from your view to your template using a context dictionary.</p>
            <h3>View in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">def third(request):
    context_data = {
        'message': "Hello, welcome to Django!",
        'items': ['Apple', 'Banana', 'Cherry']
    }
    return render(request, 'third.html', context_data)</code></pre>
            </div>
            <h3>Template <code>templates/third.html</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;h1&gt;{{ message }}&lt;/h1&gt;
    &lt;ul&gt;
        {% for item in items %}
            &lt;li&gt;{{ item }}&lt;/li&gt;
        {% endfor %}
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>
        
        <section id="form-processing">
            <h2>Form Processing</h2>
            <p>Handle user input with Django Forms.</p>
            <h3>Model in <code>{app_name}/models.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">class UserProfile(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)
    email = models.EmailField(unique=True)
    profile_picture = models.ImageField(upload_to='form_process/profile_pics/', null=True, blank=True)

    def __str__(self):
        return f"{self.first_name} {self.last_name}"</code></pre>
            </div>
            <h3>Form in <code>{app_name}/forms.py</code> (create this file):</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.forms import ModelForm
from .models import UserProfile

class UserProfileForm(ModelForm):
    class Meta:
        model = UserProfile
        fields = ['first_name', 'last_name', 'email', 'profile_picture']</code></pre>
            </div>
            <h3>Views in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.shortcuts import redirect, render
from .forms import UserProfileForm
from .models import UserProfile

def user_profile_view(request):
    if request.method == 'POST':
        form = UserProfileForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('list_view')
    else:
        form = UserProfileForm()
    
    return render(request, 'user_profile.html', {'form': form})

def list_view(request):
    profiles = UserProfile.objects.all()
    return render(request, 'list_view.html', {'profiles': profiles})</code></pre>
            </div>
            <h3>Template for form <code>templates/user_profile.html</code>:</h3>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;h1&gt;Create User Profile&lt;/h1&gt;
    &lt;form method="post" enctype="multipart/form-data"&gt;
        {% csrf_token %}
        {{ form.as_p }}
        &lt;button type="submit"&gt;Submit&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>

        <section id="message-passing">
            <h2>Message Passing</h2>
            <p>Use Django's messages framework to show one-time notifications to users.</p>
            <h3>View in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.contrib import messages

def message_view(request):
    messages.success(request, 'This is a success message.')
    messages.error(request, 'This is an error message.')
    messages.warning(request, 'This is a warning message.')
    messages.info(request, 'This is an informational message.')
    return render(request, 'message_view.html')</code></pre>
            </div>
            <h3>Template <code>templates/message_view.html</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    {% if messages %}
        &lt;ul class="messages"&gt;
            {% for message in messages %}
                &lt;li class="{{ message.tags }}"&gt;{{ message }}&lt;/li&gt;
            {% endfor %}
        &lt;/ul&gt;
    {% endif %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>

        <section id="authentication">
            <h2>User Authentication (Login, Logout, Register)</h2>
            <p>Implement a complete user authentication system.</p>
            <h3>Configuration in <code>{Project_name}/settings.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python"># Add to the bottom of the file
LOGIN_REDIRECT_URL = 'home'  # Route name to redirect to after successful login
LOGOUT_REDIRECT_URL = 'login' # Route name to redirect to after logout
LOGIN_URL = 'login'          # Route name for the login page</code></pre>
            </div>
            <h3>Registration Form in <code>{app_name}/forms.py</code>:</h3>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth.models import User

class RegistrationForm(UserCreationForm):
    class Meta:
        model = User
        fields = ['username', 'email'] # Add other fields if needed</code></pre>
            </div>
            <h3>Views in <code>{app_name}/views.py</code>:</h3>
            <p>Django provides built-in views for login and logout, but we'll create a custom one for registration.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.shortcuts import render, redirect
from .forms import RegistrationForm
from django.contrib.auth import login

def register_view(request):
    if request.method == 'POST':
        form = RegistrationForm(request.POST)
        if form.is_valid():
            user = form.save()
            login(request, user) # Optional: log the user in immediately
            return redirect('home')
    else:
        form = RegistrationForm()
    return render(request, 'registration/register.html', {'form': form})</code></pre>
            </div>
            <h3>URLs in <code>{app_name}/urls.py</code>:</h3>
            <p>Use Django's built-in `LoginView` and `LogoutView`.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.urls import path
from . import views
from django.contrib.auth import views as auth_views

urlpatterns = [
    # ... your other urls
    path('register/', views.register_view, name='register'),
    path('login/', auth_views.LoginView.as_view(template_name='registration/login.html'), name='login'),
    path('logout/', auth_views.LogoutView.as_view(), name='logout'),
]</code></pre>
            </div>
            <h3>Registration Template <code>templates/registration/register.html</code>:</h3>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">{% extends "base.html" %}
{% block content %}
    &lt;h2&gt;Register&lt;/h2&gt;
    &lt;form method="post"&gt;
        {% csrf_token %}
        {{ form.as_p }}
        &lt;button type="submit"&gt;Sign Up&lt;/button&gt;
    &lt;/form&gt;
{% endblock %}</code></pre>
            </div>
            <h3>Login Template <code>templates/registration/login.html</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">{% extends "base.html" %}
{% block content %}
    &lt;h2&gt;Log In&lt;/h2&gt;
    &lt;form method="post"&gt;
        {% csrf_token %}
        {{ form.as_p }}
        &lt;button type="submit"&gt;Log In&lt;/button&gt;
    &lt;/form&gt;
{% endblock %}</code></pre>
            </div>
            <h3>Example Base Template <code>templates/base.html</code> to show login status:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;nav&gt;
        &lt;a href="{% url 'home' %}"&gt;Home&lt;/a&gt;
        {% if user.is_authenticated %}
            &lt;p&gt;Hello, {{ user.username }}!&lt;/p&gt;
            &lt;a href="{% url 'logout' %}"&gt;Logout&lt;/a&gt;
        {% else %}
            &lt;a href="{% url 'login' %}"&gt;Login&lt;/a&gt;
            &lt;a href="{% url 'register' %}"&gt;Register&lt;/a&gt;
        {% endif %}
    &lt;/nav&gt;
    &lt;hr&gt;
    {% block content %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
        </section>

        <section id="protect-views">
            <h2>Protecting Views with @login_required</h2>
            <p>Restrict access to certain pages to logged-in users only.</p>
            <h3>Example in <code>{app_name}/views.py</code>:</h3>
            <p>The `@login_required` decorator will automatically redirect unauthenticated users to the login page defined by `LOGIN_URL` in `settings.py`.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.contrib.auth.decorators import login_required

@login_required
def protected_view(request):
    return render(request, 'protected_page.html')</code></pre>
            </div>
        </section>

        <section id="sessions">
            <h2>Sessions</h2>
            <p>Store and retrieve data on a per-site-visitor basis. Django handles sessions through a middleware. The data is stored on the server side.</p>
            <h3>Example View in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">def session_example_view(request):
    # Get a session value, with a default of 0 if it doesn't exist
    num_visits = request.session.get('num_visits', 0)
    
    # Increment the value and save it back to the session
    request.session['num_visits'] = num_visits + 1
    
    # You can also set other data
    request.session['user_name'] = 'guest' # Example

    # To delete a session key
    # del request.session['user_name']

    return render(request, 'session_page.html', {'num_visits': num_visits})</code></pre>
            </div>
            <h3>Template <code>templates/session_page.html</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;h1&gt;Session Example&lt;/h1&gt;
&lt;p&gt;You have visited this page {{ num_visits }} times during this session.&lt;/p&gt;</code></pre>
            </div>
        </section>

        <section id="cookies">
            <h2>Cookies</h2>
            <p>Store small pieces of data on the client's browser. Unlike sessions, cookies are sent with every request.</p>
            <h3>Example View in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.shortcuts import render
from django.http import HttpResponse

def cookie_example_view(request):
    # Check if a cookie is already set
    favorite_color = request.COOKIES.get('favorite_color', 'Not Set')

    # Create a response object to set the cookie on
    response = render(request, 'cookie_page.html', {'color': favorite_color})

    # Set a cookie that expires in 1 hour (3600 seconds)
    response.set_cookie('favorite_color', 'blue', max_age=3600)
    
    # To delete a cookie, set its max_age to 0 or use response.delete_cookie()
    # response.delete_cookie('favorite_color')
    
    return response</code></pre>
            </div>
            <h3>Template <code>templates/cookie_page.html</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;h1&gt;Cookie Example&lt;/h1&gt;
&lt;p&gt;Your favorite color, according to your cookie, is: {{ color }}.&lt;/p&gt;
&lt;p&gt;We have now set a cookie on your browser with the value 'blue'. Refresh the page to see it.&lt;/p&gt;</code></pre>
            </div>
        </section>

        <section id="email">
            <h2>Email Sending</h2>
            <p>Send emails from your Django application.</p>
            <h3>Configuration in <code>{Project_name}/settings.py</code>:</h3>
            <p>For development, the console backend is easiest as it prints emails to your terminal instead of sending them.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python"># For development (prints to console)
EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'

# For production (e.g., using Gmail)
# EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
# EMAIL_HOST = 'smtp.gmail.com'
# EMAIL_PORT = 587
# EMAIL_USE_TLS = True
# EMAIL_HOST_USER = 'your-email@gmail.com'
# EMAIL_HOST_PASSWORD = 'your-app-password' # Use an App Password for security
</code></pre>
            </div>
            <h3>Example View in <code>{app_name}/views.py</code>:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.core.mail import send_mail
from django.http import HttpResponse

def send_test_email(request):
    subject = 'Hello from Django'
    message = 'This is a test email sent from a Django application.'
    from_email = 'sender@example.com'
    recipient_list = ['recipient@example.com']
    
    send_mail(subject, message, from_email, recipient_list)
    
    return HttpResponse("Test email sent! Check your console.")</code></pre>
            </div>
        </section>

        <section id="ajax-json">
            <h2>AJAX & JSON</h2>
            <p>Create dynamic web pages by fetching data from the server in the background without reloading the page.</p>
            <h3>JSON View in <code>{app_name}/views.py</code>:</h3>
            <p>This view will return data in JSON format.</p>
             <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">from django.http import JsonResponse

def get_json_data(request):
    data = {
        'name': 'John Doe',
        'age': 30,
        'skills': ['Python', 'Django', 'JavaScript']
    }
    return JsonResponse(data)</code></pre>
            </div>
             <h3>URL in <code>{app_name}/urls.py</code> for the JSON view:</h3>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-python">urlpatterns = [
    # ... your other urls
    path('api/data/', views.get_json_data, name='get_json_data'),
]</code></pre>
            </div>
            <h3>Template with JavaScript (AJAX call):</h3>
            <p>This page will have a button that, when clicked, fetches the JSON data and displays it.</p>
            <div class="code-container">
                <button class="copy-btn">Copy</button>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;AJAX Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;AJAX with Django&lt;/h1&gt;
    &lt;button id="fetch-btn"&gt;Fetch Data&lt;/button&gt;
    &lt;div id="data-container"&gt;&lt;/div&gt;

    &lt;script&gt;
        document.getElementById('fetch-btn').addEventListener('click', function() {
            fetch("{% url 'get_json_data' %}")
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('data-container');
                    container.innerHTML = `
                        &lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; ${data.name}&lt;/p&gt;
                        &lt;p&gt;&lt;strong&gt;Age:&lt;/strong&gt; ${data.age}&lt;/p&gt;
                        &lt;p&gt;&lt;strong&gt;Skills:&lt;/strong&gt; ${data.skills.join(', ')}&lt;/p&gt;
                    `;
                })
                .catch(error => console.error('Error:', error));
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>
             <p><strong>Note on POST requests:</strong> For AJAX `POST` requests, you must include the CSRF token in the request headers to avoid a 403 Forbidden error.</p>
        </section>

    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Copy Button Functionality ---
            const allCopyButtons = document.querySelectorAll('.copy-btn');
            allCopyButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const codeBlock = this.parentElement.querySelector('code');
                    const codeText = codeBlock.innerText;
                    
                    navigator.clipboard.writeText(codeText).then(() => {
                        this.textContent = 'Copied!';
                        setTimeout(() => {
                            this.textContent = 'Copy';
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy text: ', err);
                    });
                });
            });

            // --- Active Sidebar Link on Scroll ---
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.sidebar ul li a');

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.3
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>\